<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Badge</title>
  <style>
    /* ---- Physical badge size ----
       Change to 3in 4in if you print 3×4 instead of 4×6.
    */
    @page { size: 4in 6in; margin: 0; }

    html, body {
      width: 4in; height: 6in; margin: 0; padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .noprint { position: fixed; top: 0.1in; right: 0.1in; }
    @media print { .noprint { display: none !important; } }

    .title {
      font-weight: 800;
      font-size: 44pt;       /* headline “Food Show 2025” */
      margin: 0.25in 0 0.10in;
    }

    .logo {
      max-width: 3.6in;      /* keep it inside the badge */
      max-height: 2.1in;
      object-fit: contain;
      margin: 0.02in 0 0.06in;
    }

    .label {
      color: #333;
      font-size: 16pt;
      margin-top: 0.06in;
    }

    .value {
      font-weight: 700;
      font-size: 26pt;       /* Customer Code / Name */
      line-height: 1.05;
      margin: 0.02in 0 0.10in;
      word-break: break-word;
    }

    .attendee {
      font-weight: 800;
      font-size: 64pt;       /* Big attendee name */
      line-height: 0.98;
      margin-top: 0.10in;
      padding: 0 0.1in;
      word-break: break-word;
    }

    /* Optional: auto-shrink long attendee names a bit */
    .attendee.long { font-size: 54pt; }
    .attendee.very-long { font-size: 46pt; }
  </style>
</head>
<body>
  <!-- Handy for manual test prints; hidden in print -->
  <button class="noprint" onclick="window.print()">Print</button>

  <div class="title">Food Show 2025</div>

  <!-- Update path if you keep the file elsewhere -->
  <img class="logo" src="/static/logo.png" alt="Logo" />

  {% if customer_code %}
    <div class="label">Customer Code</div>
    <div class="value">{{ customer_code }}</div>
  {% endif %}

  <div class="label">Customer Name</div>
  <div class="value">{{ customer_name }}</div>

  <div id="attendee" class="attendee">{{ attendee_name }}</div>

  <script>
    // Light auto-fit for long names (optional)
    (function () {
      const el = document.getElementById('attendee');
      const len = (el.textContent || '').length;
      if (len > 18 && len <= 24) el.classList.add('long');
      else if (len > 24) el.classList.add('very-long');
    })();

    // Auto-print then close (works nicely with your “Print” buttons)
    window.onload = () => setTimeout(() => window.print(), 150);
    window.onafterprint = () => window.close();
  </script>
</body>
</html>
