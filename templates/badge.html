<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Badge</title>
  <style>
    :root{
      /* Brother QL-600 media: 2.4" x 3.9" */
      --w: 99mm;   /* across roll (≈3.9") */
      --h: 61mm;   /* along roll (≈2.4") */

      /* margins (0.12in ≈ 3mm) */
      --px: 3mm;
      --py: 3mm;

      /* Font sizes you requested */
      --fs-title:    20px; /* Food Show 2025 */
      --fs-code:     15px; /* Acct # */
      --fs-customer: 15px; /* Customer Name */
      --fs-attendee: 38px; /* Attendee Name */
    }

    /* Lock page to exact label size */
    @page { size: var(--w) var(--h); margin: 0; }
    html, body { width: var(--w); height: var(--h); margin: 0; }
    body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }

    .badge {
      width: var(--w);
      height: var(--h);
      overflow: hidden;
      page-break-inside: avoid;
      box-sizing: border-box;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }

    @media screen { .badge { outline: 1px dashed #f33; } }
    @media print  { .badge { outline: none; } }

    .badge-inner {
      height: 100%;
      width: 100%;
      padding: var(--py) var(--px);
      display: grid;
      grid-template-rows: auto auto auto 1fr;
      row-gap: 4mm;
      align-items: center;
      justify-items: center;
      text-align: center;
      box-sizing: border-box;
    }

    .show-title    { font-size: var(--fs-title);    font-weight: 700; line-height: 1.2; }
    .cust-code     { font-size: var(--fs-code);     font-weight: 600; line-height: 1.2; }
    .customer-name { font-size: var(--fs-customer); font-weight: 700; line-height: 1.2; }
    .attendee-name { font-size: var(--fs-attendee); font-weight: 900; line-height: 1.1; }

    /* Single line enforcement */
    .cust-code,
    .customer-name,
    .attendee-name {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 100%;
    }

    /* Logo sizing */
    .logo {
      max-height: 12mm;
      max-width: 70%;
      object-fit: contain;
      display: block;
    }

    /* Screen-only toolbar */
    @media screen {
      .toolbar {
        position: fixed;
        top: 6px; left: 6px;
        background: #111; color: #fff;
        font: 12px/1.2 system-ui, sans-serif;
        padding: 6px 10px; border-radius: 8px; opacity: 0.9;
      }
      .toolbar a { color: #a7f3d0; text-decoration: none; margin-left: 8px; }
    }
    @media print { .toolbar { display: none; } }
  </style>
</head>
<body>
  <div class="toolbar">
    Badge preview
    <a href="javascript:window.print()">Print</a>
  </div>

  <div class="badge">
    <div class="badge-inner">
      <div class="show-title">Food Show 2025</div>
      <img class="logo" src="{{ request.url_for('static', path='logo.png') }}" alt="logo" />
      {% if customer_code %}
        <div class="cust-code">Acct #: {{ customer_code }}</div>
      {% endif %}
      <div class="customer-name">{{ customer_name }}</div>
      <div class="attendee-name">{{ attendee_name }}</div>
    </div>
  </div>
</body>
</html>
