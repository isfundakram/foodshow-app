<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Badge</title>
  <style>
    /* ========= SIZING (QL-600 Visitor Name Badge 2.44" x 3.93") ========= */
    :root{
      /* Brother 2.44" x 3.93" = 62mm x 99.8mm (landscape) */
      --w: 99.8mm;
      --h: 62mm;

      /* FONT TARGETS â€“ tweak these if you want */
      --fs-title:     12pt;   /* Food Show 2025 (a little smaller) */
      --fs-acct:       9pt;   /* Customer Code line */
      --fs-customer:  12pt;   /* Customer name */
      --fs-attendee:  38pt;   /* BIG Attendee name */

      /* micro layout controls */
      --pad-x: 2.0mm;   /* left/right padding */
      --pad-top: 1.5mm; /* top padding */
      --gap: 0.8mm;     /* vertical gap between lines */
      --logo-h: 12mm;   /* logo max height */
      --logo-w: 75%;    /* logo max width */
      --name-tight: 0.95; /* line-height for big name */
    }

    /* Page setup */
    @page { size: var(--w) var(--h); margin: 0; }
    html, body { margin: 0; padding: 0; }
    body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }

    /* Canvas */
    .badge {
      width: var(--w);
      height: var(--h);
      display: grid;
      place-items: center;
    }
    .badge-inner{
      width: 100%;
      height: 100%;
      display: grid;
      grid-template-rows: auto auto auto auto 1fr;  /* title, logo, acct, customer, name */
      align-content: start;
      justify-items: center;
      padding: var(--pad-top) var(--pad-x) 0 var(--pad-x);
      row-gap: var(--gap);
      box-sizing: border-box;
    }

    /* Lines */
    .show-title{
      font: 900 var(--fs-title)/1.05 "Inter", system-ui, -apple-system, Arial, sans-serif;
      letter-spacing: .2px;
    }
    .logo{
      max-height: var(--logo-h);
      max-width: var(--logo-w);
      object-fit: contain;
      display:block;
    }
    .acct-code{
      font: 800 var(--fs-acct)/1 "Inter", system-ui, -apple-system, Arial, sans-serif;
    }
    .customer-name{
      font: 800 var(--fs-customer)/1 "Inter", system-ui, -apple-system, Arial, sans-serif;
    }
    .attendee-name{
      font: 900 var(--fs-attendee)/var(--name-tight) "Inter", system-ui, -apple-system, Arial, sans-serif;
      white-space: nowrap;
    }

    /* Prevent 2-label overflow: auto-shrink if anything would wrap */
    .fit{
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* No screen margins; print immediately from this page if desired */
    @media screen {
      body { background:#f3f4f6; display:grid; place-items:center; height:100vh; }
      .badge { background:#fff; box-shadow:0 0 0 1px #e5e7eb, 0 12px 35px rgba(0,0,0,.12) }
    }
  </style>
</head>
<body>
  <div class="badge">
    <div class="badge-inner">
      <div class="show-title fit">Food Show 2025</div>

      <!-- Use your static logo; keep it lightweight PNG -->
      <img class="logo" src="/static/logo.png" alt="Logo" />

      {% if customer_code %}
      <div class="acct-code fit">Customer Code: ACCT # - {{ customer_code }}</div>
      {% endif %}

      <div class="customer-name fit">{{ customer_name }}</div>
      <div class="attendee-name fit">{{ attendee_name }}</div>
    </div>
  </div>

  <script>
    /* Auto-shrink the BIG name if it overflows the last row */
    (function(){
      const name = document.querySelector('.attendee-name');
      if(!name) return;
      const max = parseFloat(getComputedStyle(document.documentElement)
                    .getPropertyValue('--fs-attendee'));
      let size = max, i=0;
      while (i<40 && (name.scrollWidth > name.clientWidth || name.scrollHeight > name.clientHeight)){
        size -= 0.6; /* step down carefully */
        name.style.fontSize = size + 'pt';
        i++;
      }
    })();
  </script>
</body>
</html>
